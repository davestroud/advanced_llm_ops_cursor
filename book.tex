%%%%%%%%%%%%%%%%%%%% book.tex %%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% Root file for "Advanced Large Language Model Operations"
% Springer-Verlag svmono class (pdfLaTeX workflow)
%
%%%%%%%%%%%%%%%% Springer-Verlag %%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass[graybox,envcountchap,sectrefs]{SNmono}

\usepackage{graphicx}
\usepackage[table]{xcolor} % Color support
% ---------- URL hyphenation options must come before hyperref ----------
\PassOptionsToPackage{hyphens}{url}

% ---------- FONTS & TYPO ----------
\usepackage{lmodern}

\usepackage{newtxtext}
\usepackage[varvw]{newtxmath} % Springer text/math combo
\usepackage{microtype}
\usepackage{textcomp} % Better symbol support in text fonts
\usepackage{multicol}

% ---------- ENCODING & UNICODE ----------
\usepackage[utf8]{inputenc} % pdfLaTeX
\usepackage{newunicodechar}
\newunicodechar{≤}{\leq}
\newunicodechar{≥}{\ensuremath{\geq}}
\newunicodechar{【}{[}
\newunicodechar{】}{]}

% ---------- CORE MATH/SYMBOLS ----------
\usepackage{type1cm}
\let\Bbbk\relax
\usepackage{amsfonts,amssymb}
\usepackage{amsmath} % load before hyperref
\usepackage{textcomp}

% ---------- FLOATS, GRAPHICS, TABLES ----------
\usepackage{graphicx}
\usepackage{adjustbox}
\usepackage{float}
\usepackage{longtable}
\usepackage{threeparttable}
\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{makecell}
\usepackage{rotating}
\usepackage{pdflscape}
\usepackage[table]{xcolor}
\usepackage{siunitx}
\sisetup{detect-all}

% ---------- LISTS, BOXES, EPIGRAPH ----------
\usepackage{enumitem}
\setlist{nosep}
\usepackage[most]{tcolorbox}
\tcbuselibrary{breakable}
\usepackage{epigraph}
\setlength\epigraphwidth{.72\textwidth}

% ---------- TIKZ & PLOTS (load once) ----------
\usepackage{tikz}
\usetikzlibrary{arrows.meta,positioning,calc,shapes.geometric,shapes.symbols}
\usepackage{pgfplots}
\pgfplotsset{compat=1.18}

% ---------- INDEX ----------
\usepackage{makeidx}
\makeindex % (use Springer svind.ist in production)

% ---------- BIBLIOGRAPHY: chapter-local lists with biblatex+biber ----------
\usepackage{csquotes}
\usepackage[
  backend=biber,
  style=numeric,
  sorting=none,
  refsegment=chapter,
  defernumbers=true
]{biblatex}
\addbibresource{references.bib}
\defbibheading{subbibliography}{\section*{References}}

% ---------- GRAPHICS PATH ----------
\graphicspath{{./}{images/}}

% ---------- PROJECT MACROS (after core pkgs, before hyperref) ----------
\input{macros.tex}

% ---------- HYPERREF (load absolutely last), then bookmark ----------
\usepackage[hidelinks]{hyperref}
\usepackage{bookmark}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{textcomp}
\begin{document}

\author{David Stroud}
\title{Advanced Large Language Model Operations}
\subtitle{-- Best Practices and Key Concepts --}
\maketitle

\frontmatter%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\include{author/dedication}
\include{author/foreword}
\include{author/preface}
\include{author/acknowledgement}

\begin{figure}[t]
\centering
\small
\setlength{\tabcolsep}{6pt}
\renewcommand{\arraystretch}{1.25}

% Color swatch macro (tiny rounded rectangle)
\renewcommand{\swatch}[1]{%
  {\color{#1}\rule{8pt}{8pt}}%
}

\begin{tabularx}{\linewidth}{@{}p{10mm}p{45mm}X@{}}
\toprule
 & \textbf{Chapter} & \textbf{Operational purpose (1-line)} \\
\midrule
\swatch{blue!55} & \textbf{Ch.~\ref{ch:llmops-fundamentals} Fundamentals} &
Define LLMOps scope; contrast with MLOps; introduce prompts, RAG, evaluation, alignment. \\
\swatch{teal!60!black} & \textbf{Ch.~\ref{ch:infra} Infrastructure \& Environment} &
Right-size accelerators; packaging \& Kubernetes; IaC for reproducibility; cost baselining. \\
\swatch{orange!70!black} & \textbf{Ch.~\ref{ch:cicd} CI/CD for LLM Systems} &
Automate prompt/model tests; canary/shadow; feature flags; rollback to last-known-good. \\
\swatch{purple!70!black} & \textbf{Ch.~\ref{ch:monitoring} Monitoring \& Scaling} &
TTFT/tokens·s, GPU util; semantic traces; autoscaling triggers; incident response playbooks. \\
\swatch{cyan!60!black} & \textbf{Ch.~\ref{ch:performance} Performance \& RAG} &
Quantization/distillation; KV-cache policy; ANN indices; chunking/re-ranking; latency–quality trade-offs. \\
\swatch{green!60!black} & \textbf{Ch.~\ref{ch:multiagent} Multi-Agent Orchestration} &
Tool use, graphs, manager–worker patterns; coordination \& failure handling; traceability. \\
\swatch{red!65!black} & \textbf{Ch.~\ref{ch:testing} Testing \& Robustness} &
LLM-as-judge, gold sets, adversarial prompts; regression gates; reliability under drift. \\
\swatch{brown!70!black} & \textbf{Ch.~\ref{ch:ethics} Ethics \& Responsible Deployment} &
Guardrails, privacy, safety policies; governance \& auditability; human-in-the-loop for high-stakes tasks. \\
\swatch{black!60} & \textbf{Ch.~\ref{ch:case-study} End-to-End Case Study} &
Ishtar AI from ingestion to ops; lessons learned; patterns \& anti-patterns in production. \\
\bottomrule
\end{tabularx}

\caption{Mini legend for Fig.~\ref{fig:llmops-lifecycle}: why each chapter matters operationally. \emph{Legend of chapter roles in the lifecycle.}}
\label{fig:llmops-legend-frontmatter}
\end{figure}

\tableofcontents
\include{author/acronym}

\mainmatter%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Parts defined inline above

% ------- Chapters (chapter-local bibliography per chapter) -------
\part{Foundations of LLMOps}
\include{author/part1-foundations}

\include{ch01-intro-ishar}

\include{ch02-llmops-fundamentals}

\include{ch03-infra-env}

\part{Delivery and Production Operations}
\include{author/part2-delivery}

\include{ch04-cicd}

\include{ch05-observability}

\include{ch06-scaling}

\part{Optimization, Retrieval, and Agents}
\include{author/part3-optimization}

\include{ch07-performance}

\include{ch08-rag}

\include{ch09-agents-orchestration}

\part{Quality, Governance, and Capstone}
\include{author/part4-governance}

\include{ch10-testing-eval}

\include{ch11-ethics}

\include{ch12-ishtar-end-to-end}

% Appendices (keep only if used)
% \include{author/appendix}  % Commented out - no appendix content

\backmatter%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\include{author/glossary}
% Note: Bibliography is printed per-chapter, not globally

\printindex
\end{document}
